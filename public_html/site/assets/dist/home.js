"use strict";var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Intro=function(){function e(){_classCallCheck(this,e),this.sequence=app.config.INTRO_SEQUENCE}return _createClass(e,[{key:"init",value:function(){document.body.classList.add("menu-intro");var e=Promise.resolve(!0),n=!0,t=!1,i=void 0;try{for(var o,r=this.sequence[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)for(var a=o.value,u=["show","hide"],l=0;l<u.length;l++){var s=u[l],c=_.camelCase(s+" "+a);c in this&&(e=e.then(_.bindKey(this,c)))}}catch(e){t=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(t)throw i}}e.then(_.bindKey(this,"finishIntro"))}},{key:"showLogo",value:function(){for(var n=document.querySelectorAll("#logo path"),t=1;t<=n.length;t++)n[t-1].style.transitionDelay=t*e.LOGO_CHAR_DELAY+"ms";return requestAnimationFrame(function(){return document.getElementById("logo").classList.add("visible")}),new Promise(function(t){return setTimeout(t,(n.length+1)*e.LOGO_CHAR_DELAY)})}},{key:"showMenu",value:function(){for(var n=document.querySelectorAll("#main-menu > ul > li > ul > li"),t=function(n){n.classList.add("visible"),setTimeout(function(){return n.classList.add("reset-color")},e.MENU_COLOR_DELAY)},i=1;i<=n.length;i++)setTimeout(t.bind(this,n[i-1]),i*e.MENU_ITEM_DELAY);return new Promise(function(t){return setTimeout(t,(n.length+1)*e.MENU_ITEM_DELAY+e.MENU_COLOR_DELAY+e.MENU_COLOR_DURATION)}).then(function(){return document.body.classList.remove("menu-intro")})}},{key:"showBed",value:function(){var e=app.loadingQueue.list.item(0).data;return e.node.style.opacity=1,setTimeout(_.bindKey(e,"onPlayButtonClick"),Motion.CONTAINER_FADE_DURATION),new Promise(function(n){return e.on("finished",n)})}},{key:"hideBed",value:function(){return app.loadingQueue.list.item(0).data.remove(),Promise.delay(Motion.CONTAINER_FADE_DURATION+1e3)}},{key:"showImages",value:function(){app.playingQueue=app.loadingQueue.clone(function(e){return new MotionPlayingQueue(e.slice(1))}),app.playingQueue.setupRelays(),app.playingQueue.list.item(0).data.node.style.opacity=1;var e=app.playingQueue.list.tail().data;return new Promise(function(n){return e.on("finished",n)})}},{key:"finishIntro",value:function(){app.playingQueue.list.tail().data.remove(),app.music.stop()}}]),e}();Intro.LOGO_CHAR_DELAY=100,Intro.MENU_ITEM_DELAY=1e3,Intro.MENU_COLOR_DELAY=500,Intro.MENU_COLOR_DURATION=1e3;"use strict";app.init(function(){app.intro=new Intro,app.intro.init()});